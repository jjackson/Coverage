<!DOCTYPE html>
<html>
<head>
    <title>Opportunity Comparison Report</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1, h2 {
            color: #333;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .stat-card {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            border-left: 4px solid #4CAF50;
        }
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #4CAF50;
        }
        .stat-label {
            color: #666;
            margin-top: 5px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .chart-container {
            margin: 30px 0;
            padding: 20px;
            background-color: #fafafa;
            border-radius: 5px;
        }
        .chart-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }
        .chart-item {
            background-color: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .chart-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }
        .timestamp {
            color: #777;
            font-size: 0.9em;
            margin-top: 30px;
        }
        .note {
            background-color: #e3f2fd;
            border: 1px solid #2196F3;
            color: #1565C0;
            padding: 10px;
            border-radius: 5px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Opportunity Comparison Report</h1>
        
        <div class="note">
            <strong>Note:</strong> Progress charts show days since each opportunity's first active day (Day 0 = first service delivery or DU completion for that opportunity).
        </div>
        
        <h2>Summary Statistics</h2>
        <div class="summary-stats">
            <div class="stat-card">
                <div class="stat-value">3</div>
                <div class="stat-label">Total Projects</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">27275</div>
                <div class="stat-label">Total Delivery Units</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">1557</div>
                <div class="stat-label">Completed DUs</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">1298</div>
                <div class="stat-label">Total Service Areas</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">30</div>
                <div class="stat-label">Completed SAs</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">18155</div>
                <div class="stat-label">Total Service Points</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">5.2%</div>
                <div class="stat-label">Average Coverage</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">81</div>
                <div class="stat-label">Total FLWs</div>
            </div>
        </div>
        
        <h2>Project Comparison</h2>
        <table>
            <thead>
                <tr>
                    <th>Opportunity Name</th>
                    <th>Project Space</th>
                    <th>Total DUs</th>
                    <th>Completed DUs</th>
                    <th>Service Points</th>
                    <th>Total SA</th>
                    <th>Completed SAs</th>
                    <th>FLWs</th>
                    <th>Coverage %</th>
                </tr>
            </thead>
            <tbody>
                
        <tr>
            <td>COWACDI | CHC Givewell Scale Up</td>
            <td>ccc-chc-cowacdi-2024-25</td>
            <td>6371</td>
            <td>216</td>
            <td>9993</td>
            <td>300</td>
            <td>0</td>
            <td>25</td>
            <td>3.4%</td>
        </tr>
        
        <tr>
            <td>ZEGCAWIS | CHC Givewell Scale Up</td>
            <td>ccc-chc-zegcawis-2024-25</td>
            <td>12498</td>
            <td>998</td>
            <td>4781</td>
            <td>550</td>
            <td>25</td>
            <td>24</td>
            <td>8.0%</td>
        </tr>
        
        <tr>
            <td>RUWOYD | CHC Givewell Scale Up</td>
            <td>ccc-chc-ruwoyd-2024-25</td>
            <td>8406</td>
            <td>343</td>
            <td>3381</td>
            <td>448</td>
            <td>5</td>
            <td>32</td>
            <td>4.1%</td>
        </tr>
        
            </tbody>
        </table>
        
        <h2>Progress Comparison Charts</h2>
        
        <div class="chart-grid">
            <div class="chart-item">
                <div class="chart-title">Daily Service Deliveries</div>
                <div id="daily-service-chart" style="height: 400px;"></div>
            </div>
            <div class="chart-item">
                <div class="chart-title">Daily DU Completions</div>
                <div id="daily-du-chart" style="height: 400px;"></div>
            </div>
            <div class="chart-item">
                <div class="chart-title">Cumulative Service Deliveries</div>
                <div id="cumulative-service-chart" style="height: 400px;"></div>
            </div>
            <div class="chart-item">
                <div class="chart-title">Cumulative DU Completions</div>
                <div id="cumulative-du-chart" style="height: 400px;"></div>
            </div>
        </div>
        
        <p class="timestamp">Generated on: 2025-06-05 06:48:11</p>
    </div>

    <script>
        // Progress data from Python
        const progressData = {"service_delivery_progress": {"COWACDI | CHC Givewell Scale Up": [{"day": 0, "daily_count": 18, "cumulative_count": 18}, {"day": 1, "daily_count": 77, "cumulative_count": 95}, {"day": 2, "daily_count": 44, "cumulative_count": 139}, {"day": 3, "daily_count": 145, "cumulative_count": 284}, {"day": 4, "daily_count": 284, "cumulative_count": 568}, {"day": 5, "daily_count": 464, "cumulative_count": 1032}, {"day": 6, "daily_count": 520, "cumulative_count": 1552}, {"day": 7, "daily_count": 491, "cumulative_count": 2043}, {"day": 8, "daily_count": 433, "cumulative_count": 2476}, {"day": 9, "daily_count": 196, "cumulative_count": 2672}, {"day": 10, "daily_count": 654, "cumulative_count": 3326}, {"day": 11, "daily_count": 657, "cumulative_count": 3983}, {"day": 12, "daily_count": 773, "cumulative_count": 4756}, {"day": 13, "daily_count": 722, "cumulative_count": 5478}, {"day": 14, "daily_count": 790, "cumulative_count": 6268}, {"day": 15, "daily_count": 693, "cumulative_count": 6961}, {"day": 16, "daily_count": 371, "cumulative_count": 7332}, {"day": 17, "daily_count": 678, "cumulative_count": 8010}, {"day": 18, "daily_count": 695, "cumulative_count": 8705}, {"day": 19, "daily_count": 597, "cumulative_count": 9302}, {"day": 20, "daily_count": 190, "cumulative_count": 9492}, {"day": 21, "daily_count": 78, "cumulative_count": 9570}, {"day": 22, "daily_count": 32, "cumulative_count": 9602}, {"day": 23, "daily_count": 0, "cumulative_count": 9602}, {"day": 24, "daily_count": 53, "cumulative_count": 9655}, {"day": 25, "daily_count": 125, "cumulative_count": 9780}, {"day": 26, "daily_count": 213, "cumulative_count": 9993}], "ZEGCAWIS | CHC Givewell Scale Up": [{"day": 0, "daily_count": 87, "cumulative_count": 87}, {"day": 1, "daily_count": 296, "cumulative_count": 383}, {"day": 2, "daily_count": 333, "cumulative_count": 716}, {"day": 3, "daily_count": 302, "cumulative_count": 1018}, {"day": 4, "daily_count": 296, "cumulative_count": 1314}, {"day": 5, "daily_count": 89, "cumulative_count": 1403}, {"day": 6, "daily_count": 52, "cumulative_count": 1455}, {"day": 7, "daily_count": 269, "cumulative_count": 1724}, {"day": 8, "daily_count": 285, "cumulative_count": 2009}, {"day": 9, "daily_count": 307, "cumulative_count": 2316}, {"day": 10, "daily_count": 233, "cumulative_count": 2549}, {"day": 11, "daily_count": 127, "cumulative_count": 2676}, {"day": 12, "daily_count": 34, "cumulative_count": 2710}, {"day": 13, "daily_count": 29, "cumulative_count": 2739}, {"day": 14, "daily_count": 228, "cumulative_count": 2967}, {"day": 15, "daily_count": 313, "cumulative_count": 3280}, {"day": 16, "daily_count": 269, "cumulative_count": 3549}, {"day": 17, "daily_count": 367, "cumulative_count": 3916}, {"day": 18, "daily_count": 209, "cumulative_count": 4125}, {"day": 19, "daily_count": 37, "cumulative_count": 4162}, {"day": 20, "daily_count": 28, "cumulative_count": 4190}, {"day": 21, "daily_count": 182, "cumulative_count": 4372}, {"day": 22, "daily_count": 245, "cumulative_count": 4617}, {"day": 23, "daily_count": 164, "cumulative_count": 4781}], "RUWOYD | CHC Givewell Scale Up": [{"day": 0, "daily_count": 379, "cumulative_count": 379}, {"day": 1, "daily_count": 423, "cumulative_count": 802}, {"day": 2, "daily_count": 642, "cumulative_count": 1444}, {"day": 3, "daily_count": 431, "cumulative_count": 1875}, {"day": 4, "daily_count": 666, "cumulative_count": 2541}, {"day": 5, "daily_count": 486, "cumulative_count": 3027}, {"day": 6, "daily_count": 354, "cumulative_count": 3381}]}, "du_completion_progress": {"COWACDI | CHC Givewell Scale Up": [{"day": 0, "daily_count": 3, "cumulative_count": 3}, {"day": 1, "daily_count": 9, "cumulative_count": 12}, {"day": 2, "daily_count": 2, "cumulative_count": 14}, {"day": 3, "daily_count": 22, "cumulative_count": 36}, {"day": 4, "daily_count": 25, "cumulative_count": 61}, {"day": 5, "daily_count": 12, "cumulative_count": 73}, {"day": 6, "daily_count": 11, "cumulative_count": 84}, {"day": 7, "daily_count": 7, "cumulative_count": 91}, {"day": 8, "daily_count": 6, "cumulative_count": 97}, {"day": 9, "daily_count": 0, "cumulative_count": 97}, {"day": 10, "daily_count": 9, "cumulative_count": 106}, {"day": 11, "daily_count": 9, "cumulative_count": 115}, {"day": 12, "daily_count": 6, "cumulative_count": 121}, {"day": 13, "daily_count": 6, "cumulative_count": 127}, {"day": 14, "daily_count": 13, "cumulative_count": 140}, {"day": 15, "daily_count": 7, "cumulative_count": 147}, {"day": 16, "daily_count": 5, "cumulative_count": 152}, {"day": 17, "daily_count": 5, "cumulative_count": 157}, {"day": 18, "daily_count": 11, "cumulative_count": 168}, {"day": 19, "daily_count": 3, "cumulative_count": 171}, {"day": 20, "daily_count": 11, "cumulative_count": 182}, {"day": 21, "daily_count": 4, "cumulative_count": 186}, {"day": 22, "daily_count": 9, "cumulative_count": 195}, {"day": 23, "daily_count": 0, "cumulative_count": 195}, {"day": 24, "daily_count": 2, "cumulative_count": 197}, {"day": 25, "daily_count": 5, "cumulative_count": 202}, {"day": 26, "daily_count": 14, "cumulative_count": 216}], "ZEGCAWIS | CHC Givewell Scale Up": [{"day": 0, "daily_count": 18, "cumulative_count": 18}, {"day": 1, "daily_count": 40, "cumulative_count": 58}, {"day": 2, "daily_count": 26, "cumulative_count": 84}, {"day": 3, "daily_count": 28, "cumulative_count": 112}, {"day": 4, "daily_count": 14, "cumulative_count": 126}, {"day": 5, "daily_count": 16, "cumulative_count": 142}, {"day": 6, "daily_count": 12, "cumulative_count": 154}, {"day": 7, "daily_count": 64, "cumulative_count": 218}, {"day": 8, "daily_count": 76, "cumulative_count": 294}, {"day": 9, "daily_count": 72, "cumulative_count": 366}, {"day": 10, "daily_count": 126, "cumulative_count": 492}, {"day": 11, "daily_count": 19, "cumulative_count": 511}, {"day": 12, "daily_count": 7, "cumulative_count": 518}, {"day": 13, "daily_count": 13, "cumulative_count": 531}, {"day": 14, "daily_count": 50, "cumulative_count": 581}, {"day": 15, "daily_count": 42, "cumulative_count": 623}, {"day": 16, "daily_count": 33, "cumulative_count": 656}, {"day": 17, "daily_count": 44, "cumulative_count": 700}, {"day": 18, "daily_count": 60, "cumulative_count": 760}, {"day": 19, "daily_count": 5, "cumulative_count": 765}, {"day": 20, "daily_count": 4, "cumulative_count": 769}, {"day": 21, "daily_count": 60, "cumulative_count": 829}, {"day": 22, "daily_count": 26, "cumulative_count": 855}, {"day": 23, "daily_count": 32, "cumulative_count": 887}], "RUWOYD | CHC Givewell Scale Up": [{"day": 0, "daily_count": 42, "cumulative_count": 42}, {"day": 1, "daily_count": 41, "cumulative_count": 83}, {"day": 2, "daily_count": 60, "cumulative_count": 143}, {"day": 3, "daily_count": 46, "cumulative_count": 189}, {"day": 4, "daily_count": 57, "cumulative_count": 246}, {"day": 5, "daily_count": 54, "cumulative_count": 300}, {"day": 6, "daily_count": 43, "cumulative_count": 343}]}, "cumulative_service_delivery": {"COWACDI | CHC Givewell Scale Up": [{"day": 0, "daily_count": 18, "cumulative_count": 18}, {"day": 1, "daily_count": 77, "cumulative_count": 95}, {"day": 2, "daily_count": 44, "cumulative_count": 139}, {"day": 3, "daily_count": 145, "cumulative_count": 284}, {"day": 4, "daily_count": 284, "cumulative_count": 568}, {"day": 5, "daily_count": 464, "cumulative_count": 1032}, {"day": 6, "daily_count": 520, "cumulative_count": 1552}, {"day": 7, "daily_count": 491, "cumulative_count": 2043}, {"day": 8, "daily_count": 433, "cumulative_count": 2476}, {"day": 9, "daily_count": 196, "cumulative_count": 2672}, {"day": 10, "daily_count": 654, "cumulative_count": 3326}, {"day": 11, "daily_count": 657, "cumulative_count": 3983}, {"day": 12, "daily_count": 773, "cumulative_count": 4756}, {"day": 13, "daily_count": 722, "cumulative_count": 5478}, {"day": 14, "daily_count": 790, "cumulative_count": 6268}, {"day": 15, "daily_count": 693, "cumulative_count": 6961}, {"day": 16, "daily_count": 371, "cumulative_count": 7332}, {"day": 17, "daily_count": 678, "cumulative_count": 8010}, {"day": 18, "daily_count": 695, "cumulative_count": 8705}, {"day": 19, "daily_count": 597, "cumulative_count": 9302}, {"day": 20, "daily_count": 190, "cumulative_count": 9492}, {"day": 21, "daily_count": 78, "cumulative_count": 9570}, {"day": 22, "daily_count": 32, "cumulative_count": 9602}, {"day": 23, "daily_count": 0, "cumulative_count": 9602}, {"day": 24, "daily_count": 53, "cumulative_count": 9655}, {"day": 25, "daily_count": 125, "cumulative_count": 9780}, {"day": 26, "daily_count": 213, "cumulative_count": 9993}], "ZEGCAWIS | CHC Givewell Scale Up": [{"day": 0, "daily_count": 87, "cumulative_count": 87}, {"day": 1, "daily_count": 296, "cumulative_count": 383}, {"day": 2, "daily_count": 333, "cumulative_count": 716}, {"day": 3, "daily_count": 302, "cumulative_count": 1018}, {"day": 4, "daily_count": 296, "cumulative_count": 1314}, {"day": 5, "daily_count": 89, "cumulative_count": 1403}, {"day": 6, "daily_count": 52, "cumulative_count": 1455}, {"day": 7, "daily_count": 269, "cumulative_count": 1724}, {"day": 8, "daily_count": 285, "cumulative_count": 2009}, {"day": 9, "daily_count": 307, "cumulative_count": 2316}, {"day": 10, "daily_count": 233, "cumulative_count": 2549}, {"day": 11, "daily_count": 127, "cumulative_count": 2676}, {"day": 12, "daily_count": 34, "cumulative_count": 2710}, {"day": 13, "daily_count": 29, "cumulative_count": 2739}, {"day": 14, "daily_count": 228, "cumulative_count": 2967}, {"day": 15, "daily_count": 313, "cumulative_count": 3280}, {"day": 16, "daily_count": 269, "cumulative_count": 3549}, {"day": 17, "daily_count": 367, "cumulative_count": 3916}, {"day": 18, "daily_count": 209, "cumulative_count": 4125}, {"day": 19, "daily_count": 37, "cumulative_count": 4162}, {"day": 20, "daily_count": 28, "cumulative_count": 4190}, {"day": 21, "daily_count": 182, "cumulative_count": 4372}, {"day": 22, "daily_count": 245, "cumulative_count": 4617}, {"day": 23, "daily_count": 164, "cumulative_count": 4781}], "RUWOYD | CHC Givewell Scale Up": [{"day": 0, "daily_count": 379, "cumulative_count": 379}, {"day": 1, "daily_count": 423, "cumulative_count": 802}, {"day": 2, "daily_count": 642, "cumulative_count": 1444}, {"day": 3, "daily_count": 431, "cumulative_count": 1875}, {"day": 4, "daily_count": 666, "cumulative_count": 2541}, {"day": 5, "daily_count": 486, "cumulative_count": 3027}, {"day": 6, "daily_count": 354, "cumulative_count": 3381}]}, "cumulative_du_completion": {"COWACDI | CHC Givewell Scale Up": [{"day": 0, "daily_count": 3, "cumulative_count": 3}, {"day": 1, "daily_count": 9, "cumulative_count": 12}, {"day": 2, "daily_count": 2, "cumulative_count": 14}, {"day": 3, "daily_count": 22, "cumulative_count": 36}, {"day": 4, "daily_count": 25, "cumulative_count": 61}, {"day": 5, "daily_count": 12, "cumulative_count": 73}, {"day": 6, "daily_count": 11, "cumulative_count": 84}, {"day": 7, "daily_count": 7, "cumulative_count": 91}, {"day": 8, "daily_count": 6, "cumulative_count": 97}, {"day": 9, "daily_count": 0, "cumulative_count": 97}, {"day": 10, "daily_count": 9, "cumulative_count": 106}, {"day": 11, "daily_count": 9, "cumulative_count": 115}, {"day": 12, "daily_count": 6, "cumulative_count": 121}, {"day": 13, "daily_count": 6, "cumulative_count": 127}, {"day": 14, "daily_count": 13, "cumulative_count": 140}, {"day": 15, "daily_count": 7, "cumulative_count": 147}, {"day": 16, "daily_count": 5, "cumulative_count": 152}, {"day": 17, "daily_count": 5, "cumulative_count": 157}, {"day": 18, "daily_count": 11, "cumulative_count": 168}, {"day": 19, "daily_count": 3, "cumulative_count": 171}, {"day": 20, "daily_count": 11, "cumulative_count": 182}, {"day": 21, "daily_count": 4, "cumulative_count": 186}, {"day": 22, "daily_count": 9, "cumulative_count": 195}, {"day": 23, "daily_count": 0, "cumulative_count": 195}, {"day": 24, "daily_count": 2, "cumulative_count": 197}, {"day": 25, "daily_count": 5, "cumulative_count": 202}, {"day": 26, "daily_count": 14, "cumulative_count": 216}], "ZEGCAWIS | CHC Givewell Scale Up": [{"day": 0, "daily_count": 18, "cumulative_count": 18}, {"day": 1, "daily_count": 40, "cumulative_count": 58}, {"day": 2, "daily_count": 26, "cumulative_count": 84}, {"day": 3, "daily_count": 28, "cumulative_count": 112}, {"day": 4, "daily_count": 14, "cumulative_count": 126}, {"day": 5, "daily_count": 16, "cumulative_count": 142}, {"day": 6, "daily_count": 12, "cumulative_count": 154}, {"day": 7, "daily_count": 64, "cumulative_count": 218}, {"day": 8, "daily_count": 76, "cumulative_count": 294}, {"day": 9, "daily_count": 72, "cumulative_count": 366}, {"day": 10, "daily_count": 126, "cumulative_count": 492}, {"day": 11, "daily_count": 19, "cumulative_count": 511}, {"day": 12, "daily_count": 7, "cumulative_count": 518}, {"day": 13, "daily_count": 13, "cumulative_count": 531}, {"day": 14, "daily_count": 50, "cumulative_count": 581}, {"day": 15, "daily_count": 42, "cumulative_count": 623}, {"day": 16, "daily_count": 33, "cumulative_count": 656}, {"day": 17, "daily_count": 44, "cumulative_count": 700}, {"day": 18, "daily_count": 60, "cumulative_count": 760}, {"day": 19, "daily_count": 5, "cumulative_count": 765}, {"day": 20, "daily_count": 4, "cumulative_count": 769}, {"day": 21, "daily_count": 60, "cumulative_count": 829}, {"day": 22, "daily_count": 26, "cumulative_count": 855}, {"day": 23, "daily_count": 32, "cumulative_count": 887}], "RUWOYD | CHC Givewell Scale Up": [{"day": 0, "daily_count": 42, "cumulative_count": 42}, {"day": 1, "daily_count": 41, "cumulative_count": 83}, {"day": 2, "daily_count": 60, "cumulative_count": 143}, {"day": 3, "daily_count": 46, "cumulative_count": 189}, {"day": 4, "daily_count": 57, "cumulative_count": 246}, {"day": 5, "daily_count": 54, "cumulative_count": 300}, {"day": 6, "daily_count": 43, "cumulative_count": 343}]}};
        
        // Color palette for different opportunities
        const colors = ['#1f77b4', '#ff7f0e', '#2ca02c', '#d62728', '#9467bd', '#8c564b', '#e377c2', '#7f7f7f', '#bcbd22', '#17becf'];
        
        // Create daily service deliveries chart
        function createDailyServiceChart() {
            const traces = [];
            let colorIndex = 0;
            
            for (const [opportunity, data] of Object.entries(progressData.service_delivery_progress)) {
                if (data && data.length > 0) {
                    traces.push({
                        x: data.map(d => d.day),
                        y: data.map(d => d.daily_count),
                        type: 'scatter',
                        mode: 'lines+markers',
                        name: opportunity,
                        line: { color: colors[colorIndex % colors.length] },
                        marker: { size: 6 }
                    });
                    colorIndex++;
                }
            }
            
            const layout = {
                xaxis: { title: 'Days Since First Active Day' },
                yaxis: { title: 'Number of Service Deliveries' },
                hovermode: 'x unified',
                showlegend: true,
                margin: { l: 50, r: 50, t: 30, b: 50 }
            };
            
            Plotly.newPlot('daily-service-chart', traces, layout, {responsive: true});
        }
        
        // Create daily DU completions chart
        function createDailyDUChart() {
            const traces = [];
            let colorIndex = 0;
            
            for (const [opportunity, data] of Object.entries(progressData.du_completion_progress)) {
                if (data && data.length > 0) {
                    traces.push({
                        x: data.map(d => d.day),
                        y: data.map(d => d.daily_count),
                        type: 'scatter',
                        mode: 'lines+markers',
                        name: opportunity,
                        line: { color: colors[colorIndex % colors.length] },
                        marker: { size: 6 }
                    });
                    colorIndex++;
                }
            }
            
            const layout = {
                xaxis: { title: 'Days Since First Active Day' },
                yaxis: { title: 'Number of DUs Completed' },
                hovermode: 'x unified',
                showlegend: true,
                margin: { l: 50, r: 50, t: 30, b: 50 }
            };
            
            Plotly.newPlot('daily-du-chart', traces, layout, {responsive: true});
        }
        
        // Create cumulative service deliveries chart
        function createCumulativeServiceChart() {
            const traces = [];
            let colorIndex = 0;
            
            for (const [opportunity, data] of Object.entries(progressData.cumulative_service_delivery)) {
                if (data && data.length > 0) {
                    traces.push({
                        x: data.map(d => d.day),
                        y: data.map(d => d.cumulative_count),
                        type: 'scatter',
                        mode: 'lines',
                        name: opportunity,
                        line: { color: colors[colorIndex % colors.length], width: 3 }
                    });
                    colorIndex++;
                }
            }
            
            const layout = {
                xaxis: { title: 'Days Since First Active Day' },
                yaxis: { title: 'Cumulative Service Deliveries' },
                hovermode: 'x unified',
                showlegend: true,
                margin: { l: 50, r: 50, t: 30, b: 50 }
            };
            
            Plotly.newPlot('cumulative-service-chart', traces, layout, {responsive: true});
        }
        
        // Create cumulative DU completions chart
        function createCumulativeDUChart() {
            const traces = [];
            let colorIndex = 0;
            
            for (const [opportunity, data] of Object.entries(progressData.cumulative_du_completion)) {
                if (data && data.length > 0) {
                    traces.push({
                        x: data.map(d => d.day),
                        y: data.map(d => d.cumulative_count),
                        type: 'scatter',
                        mode: 'lines',
                        name: opportunity,
                        line: { color: colors[colorIndex % colors.length], width: 3 }
                    });
                    colorIndex++;
                }
            }
            
            const layout = {
                xaxis: { title: 'Days Since First Active Day' },
                yaxis: { title: 'Cumulative DUs Completed' },
                hovermode: 'x unified',
                showlegend: true,
                margin: { l: 50, r: 50, t: 30, b: 50 }
            };
            
            Plotly.newPlot('cumulative-du-chart', traces, layout, {responsive: true});
        }
        
        // Initialize all charts when page loads
        document.addEventListener('DOMContentLoaded', function() {
            createDailyServiceChart();
            createDailyDUChart();
            createCumulativeServiceChart();
            createCumulativeDUChart();
        });
    </script>
</body>
</html>